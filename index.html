<!doctype html>
<html>
<head>
	<title>WEB1 - Welcome</title>
	<meta charset="utf-8">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="colors.js"></script>
</head>
<body>
	<h1><a href="index.html">WEB</a></h1>
	<input id="night_day" type="button" value="night" onclick="
		nightDayHandler(this);
	">
	<ol id="nav">
	</ol>
	<article class="contentArea">
	</article>
	<script type="text/javascript">
		function fetchPage(contentName){
			fetch(contentName).then(function(response){
				response.text().then(function(text){
					document.querySelector('article').innerHTML = text;
				})
			});
		}
		if(location.hash){
			//hashがあればその内容のfetchPageを実行
			fetchPage(location.hash.substring(2));
		} else {
			fetchPage('welcome');
		}
		fetch('list').then(function(response){
			response.text().then(function(text){
				console.log(text);
				var items = text.split(',');
				console.log(items);
				var i = 0;
				var tags = '';
				while (i < items.length){
					var item = items[i];
					var tag = '<li><a href="#!'+item+'" onclick="fetchPage(\''+item+'\');">'+item+'</a></li>';
					console.log(tag);
					tags = tags + tag;
					console.log(tags);
					// <li><a href="#!html" onclick="fetchPage('html');">HTML</a></li>
					i = i + 1;
				}
				document.querySelector('#nav').innerHTML = tags;
			})
		});
	</script>
</body>
</html>
